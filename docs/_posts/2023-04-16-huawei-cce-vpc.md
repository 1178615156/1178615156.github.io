---
layout: post
title:  华为CCE(k8s)无法在容器内部访问同VPC下别的服务器
---
### 原因
如果CCE使用网络模型为`VPC网络`的发，会为每个容器都分配一个VPC内的可访问的IP
### 解决方式
1. 安全组总需要配置放行规则允许容器的网段访问
2. 如果创建CCE的是否选择的容器网段为172.16.0.0/16，会和docker网络冲突问题
- 因为docker默认使用172.16.0.0/16这导致服务器能够收到数据包，但是返回的数据包会被路由到`docker0`这张网卡上。就会表现出无法在容器内部访问同VPC下别的服务器
- 方法就是修改CCE容器网段，或修改docker默认网段
